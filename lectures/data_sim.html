<section>
    <h2><b>Data simulation</b></h2>
    <p style="margin-top: 0.5em">
        Helena Mitasova, Anna Petrasova, Vaclav Petras</p>
    <p class="title-foot">
        GIS714 Geosimulations
        <a href="http://www.ncsu.edu/" title="North Carolina State University">NCSU</a>
    </p>
</section>

<section>
    <h3>Learning objectives</h3>
<p>
<ul>
   <li>when we need data simulation
   <li>selected computational techniques for data simulation (geostatistics, fractals, monte carlo...)
   <li>generating scenarios
   <li>generating data from physical models: SfM approach
</ul>
</section>

<section>
   <h3>Motivation for simulating data</h3>
<p>
<ul>
<li class="fragment">uncertainty analysis: simulating errors
<li class="fragment">sensitivity analysis: generating model parameters
<li class="fragment">scenario modeling
<li class="fragment">testing algorithms
<li class="fragment">add yours
</ul>
</section>

<section>
   <h3>Properties of simulated data</h3>
<p>random, spatially correlated, statistical properties (distribution)
<ul>
  <li>no spatial dependence, spatially correlated (distance dependent) 
  <li>gaussian distribution, ... 
  <li>fractal
</ul>
</section>

<section>
   <h3>Types of simulated data</h3>
<p>Geometry, spatial correlation?, statistical properties (distribution)
<ul>
  <li>points, lines areas, surfaces
  <li>no spatial dependence, spatially correlated (distance dependent)    
  <li>gaussian distribution, ...
  <li>processing, analysis and visualization
</ul>
</section>

<section>
   <h3>Methods for generating data with given properties</h3>
<p>Examples of approaches
<ul>
  <li class="fragment">Monte Carlo 
</ul>
</section>

<section>
   <h3>Geometry based spatial methods</h3>
<p>Examples of approaches
<ul>
  <li class="fragment">mathematical functions (plane, paraboloid, etc.)
  <li class="fragment">growth
  <li class="fragment">distribution based on configuration space
</ul>
</section>

<section>
   <h3>Monte Carlo and its applications </h3>
<p>Examples of approaches
<ul>
  <li class="fragment">Monte Carlo          
  <li class="fragment">classification, feature extraction, change detection and quantification
  <li class="fragment">statistical modeling to relate the observed data to the studied process dynamics
</ul>
</section>

<section>
   <h3>Examples: fractals</h3>
<p><small>Bi-variate interpolation of DEMs from point clouds to surfaces and dynamic visualization</small>
<p> <img height="430" src="img/geodynamics/jr_74_17_anim3dlgfix.gif">
<p><small>Jockey's Ridge 1974 - 2017: southward migration, landform transformation </small>
</section>

<section>
 <h3>Examples: random points, perturbance</h3>
<p>
Satellite imagery (3m res), September 2017 - July 2018
<p>
<iframe data-autoplay width="580" height="360" src="img/geodynamics/sep17_july18.mp4" frameborder="0" allowfullscreen></iframe>
<p><small>Planet: world’s largest constellation of Earth-imaging (micro) satellites providing daily observations
for entire Earth at 3m resolution</small>
</section>

<section>
   <h3>Weather generators - move to end of lecture</h3>
<ul>
<li>Chesapeake bay monthly nitrogen concentrations - multivariate (space-time) interpolation 
<li>From scattered space-time point data to continuous space-time model of plume evolution
</ul>
<p> <img height="250" src="img/geodynamics/chesaplg.jpg">
<img height="330" src="img/geodynamics/chesapsites.jpg">
<img height="330" src="img/geodynamics/chall4d.gif">
</section>

<section>
   <h3>Examples: patch generators</h3>
<p>groundwater pollution over 10 years - data
<p> <img height="330" src="img/geodynamics/wellnew.gif">
</section>

<section>
   <h3>Generating complex distributions with given properties</h3>
<ul>
<li>points with spatial interactions - inputs for ABM
<li>patches with spatial dependence and geometry properties
</ul>
<p> <img height="330" src="img/geodynamics/well456.gif">
</section>

<section>
   <h3>Observation multitemporal data</h3>
Additional examples
<ul>
<li>monthly precipitation over Amazon basin (precipitation as a surface)
<li>Cape Fear and Cape hatteras (terrain over time)
<li>Subsurface soil moisture (4D)
</ul>
</section>

<section>
   <h3>Managing multitemporal data</h3>
</section>

<section>
 <h3>Temporal data framework</h3>
<ul>
 <li>supports efficient processing, management and analysis of space-time data sets
 <li><b>space-time dataset</b> is a set of maps (raster, vector) registered in a temporal database
 <li>space-time dataset may represent a dynamic process
 <li>individual maps represent the states of the dynamic system at a given time
</ul>
<br>
<p class="small">
Gebbert, S. and Pebesma, E. (2014). <a href="https://www.sciencedirect.com/science/article/pii/S136481521300282X">
A temporal GIS for field based environmental modeling.</a>
Environmental Modelling and Software, 53, 1–12.</p>
</section>

<section>
   <h3>Time stamp type</h3>
<ul>
 <li>time stamp: assigns time to an individual map in space-time data set
 <li><b>time instant</b> - snapshot at given time: 2013-10-15 13:00:00 (absolute time)
 <li><b>time interval </b>- defined by start and end time: day, month, year (relative time)
 <li>example: a single UAS survey represents a snapshot (state) which can be agreggated into intervals
</ul>
<img class="stretch" src="img/geodynamics/st_dataset.jpg">
</section>

<section>
  <h3>Registered space-time dataset</h3>
Timeline tool: time and spatial extent of registered maps
<p>
<img height="400" src="img/geodynamics/uas2015_timeline.jpg">
<img height="80" src="img/geodynamics/timeline_midpines15-18.png">
</section>

<section>
   <h3>Temporal plot</h3>
<ul>
<li>Plot time series of measured values at a given location: April through October
</ul>
<p><img width="70%"  src="img/geodynamics/tplots.jpg">
</section>

<section>
   <h3>Temporal count and intersection</h3>
<ul>
<li>Count: number of maps (temporal snapshots) where the given cell has non-null value (overlap)
<li>Intersection: grid cells with non-null values from each map in time series
</ul>
<img width="47%" src="img/geodynamics/series_overlap_count.jpg">
<img width="47%" src="img/geodynamics/intersection.jpg">
</section>

<section>
   <h3>Temporal aggregation</h3>
<ul>
<li>Temporally aggregate maps over given period of time - for example to derive monthly average elevation
</ul>
<p>
<img width="75%" src="img/geodynamics/aggregated_sept.jpg">
</section>

<section>
   <h3>Basic time series analysis</h3>
<p>
Per cell statistics computed for each cell over time:
<ul>
 <li>mean and standard deviation
 <li>min, max elevation and range
 <li>time at minimum, time at maximum
 <li>linear regression: slopem offset, regr. coefficient
</ul>
<p class="small"> UPDATE
<a href="http://www4.ncsu.edu/~hmitaso/gmslab/papers/MitasovaFinalGeoinf09.pdf">
Mitasova, H., Hardin, E., Overton, M., and Harmon, R.S., 2009, New spatial measures of terrain dynamics derived from time series of lidar data, Proc. 17th Int. Conf. Geoinformatics, Fairfax, VA. </a></p>
</section>

<section>
   <h3>Detecting distortions in surveys</h3>
<ul>
<li>Derive core (minimum) surface from UAS time series
<li>Compute difference between UAS core and lidar bare ground surface
<li>Compute time of minimum raster: identify distorted DSMs with elevation below lidar bare ground
</ul>
<img width="47%" src="img/geodynamics/diff_lid_uasmin.jpg">
<img width="47%" src="img/geodynamics/minraster.jpg">
</section>

<section>
   <h3>Corrected UAS core surface</h3>
<ul>
<li>Remove distorted DSMs from derivation of core surface
<li>Difference between UAS core and lidar bare ground surface is now very small
<li>Hist. equalized color ramp for differences highlights a small shift in lidar swath
</ul>
<img width="45%" src="img/geodynamics/diff_lid_uasmin2.png">
<img width="45%" src="img/geodynamics/diff_lid_uasmin2_histeq.jpg">
</section>

<section>
   <h3>Envelope and range applications</h3>
<p>
<ul>
<li>Envelope: what is the max height of crop in each pixel over the monitored period?
<li>time of maximum - when was the crop highest at each grid cell?
<li>where is the largest range and variability in crop height?
</ul>
<img width="40%" src="img/geodynamics/diff_lid_uasmax.jpg">
<img width="40%" src="img/geodynamics/max2.jpg">
</section>

<section>
   <h3>Envelope and range applications</h3>
<ul>
<li>use envelope to show all cars ever parked at the site
<li>core, snapshot, envelope, surfaces can be used to manage parking area
</ul>
<img width="50%" src="img/geodynamics/cars.jpg">
</section>

<section>
   <h3>Basic time series analysis: regression</h3>
<ul>
 <li>applies to well designed, systematic monitoring with longer time series,
 <li>select subset where the changes are close to linear - e.g. crop growth period,
 <li>compute per cell linear regression analysis: map of regression slope and offset
</ul>
</section>

<section>
 <h3>Map algebra for time series</h3>
<p>
<ul>
  <li>apply map algebra expression for each map in the time series at each grid cell
  <li>output is new time series which is registered as a new space-time dataset
  <li>this is different (and much simpler) from temporal map algebra
</ul>
</section>

<section>
 <h3>Extract crop height time series</h3>
<p>Map algebra can be used to
extract grid cells with elevation above lidar bare ground
within a selected elevation interval (z1,z2)
<p>
<img width="32%" src="img/geodynamics/veg_uas_lidar2.jpg">
<img width="32%" src="img/geodynamics/veg_uas_lidar3.jpg">
<img width="32%" src="img/geodynamics/veg_uas_lidar7.jpg">
<p class="small">
Maps of relative elevation (0.3m, 2.0m)  above bare ground lidar for 3 time snapshots in our time series.
The middle map shows distortions rather than crop.
</section>

<section>
   <h3>Dynamic processes</h3>
<p> fundamental physical, biological and socio-economic processes
</section>

<section>
   <h3>Dynamic processes</h3>
<p>Dynamic processes in your projects
<ul>
  <li>development growth
  <li>population / development migration
  <li>algae growth /evolution
  <li>crop growth / die out
</ul>
</section>

<section>
   <h3>Static and dynamic simulations</h3>
<p>
<ul>
<li class="fragment">steady state for dynamic processes
<li class="fragment"> dynamic simulations
</ul>
</section>

<section>
   <h3>Dynamic simulations</h3>
<p>
Results have a well defined time step
<ul>
<li>Modeling processes: solar radiation
<li>flooding
<li>surface water flow 
<li>sediment transport 
<li>erosion and deposition, landscape evolution
</ul>
<p> <img height="380" src="img/geodynamics/lakef1994.gif">
</section>


<section>
   <h3>Simulation output: time series</h3>
<p>Same handling with temporal framework
</section>


<!--
<section>
 <h3>Summary</h3>
<ul>
<li>we have defined types of models
</ul>
</section>

<section>
 <h3>Reading, resources</h3>
links
</section>
-->

<div class="parent-page">
    <!-- &#x1f3e0; -->
    <a href="http://ncsu-geoforall-lab.github.io/geospatial-simulations-course/" title="Go to the course page">&#8962;</a>
</div>



