<section>
    <h2><b>Data simulation</b></h2>
    <p style="margin-top: 0.5em">
        Helena Mitasova, Anna Petrasova, Vaclav Petras</p>
    <p class="title-foot">
        GIS714 Geosimulations
        <a href="http://www.ncsu.edu/" title="North Carolina State University">NCSU</a>
    </p>
</section>

<section>
    <h3>Learning objectives</h3>
<p>
<ul>
   <li>when we need data simulation
   <li>selected computational techniques for data simulation
   <li>generating scenarios
   <li>generating 3D data from physical models: SfM approach
</ul>
</section>

<section>
   <h3>Developing process simulations</h3>
<ul>
<li class="fragment">definition of research question 
<li class="fragment">identification of available data 
<li class="fragment">design or identification of modeling approach suitable for the research question and available data 
<small>recall:modeling quantity,scale,configuration space and interactions, governing equations</small>
<li class="fragment">sensitivity analysis (most important parameters)
<li class="fragment">model parametrization
<li class="fragment">calibration and validation
<li class="fragment">generating scenarios and running simulations
<li class="fragment">uncertainty analysis
</ul>
</section>

<section>
   <h3>Motivation for simulating data</h3>
<p>
<ul>
<li class="fragment">uncertainty analysis: simulating errors
<li class="fragment">sensitivity analysis: generating model parameters
<li class="fragment">scenario modeling
<li class="fragment">testing algorithms
<li class="fragment">noise and artifact detection
<li class="fragment">add yours
</ul>
</section>

<section>
   <h3>Types of simulated data</h3>
<ul>
<li>Geometry
<p>
<ul>
  <li>points, lines, areas, rasters, surfaces
  <li>synthetic data sets - time series
</ul>
<p>
<li>Approach
<p>
<ul>
  <li>deterministic
  <li>stochastic
  <li>hybrid
</ul>
</ul>
</section>

<section>
   <h3>Geometry based spatial methods</h3>
<p>Deterministic: mathematical functions 
<p>
$z = 0.2 x + 0.02 y + 50$
<p class="fragment"> 
<img height="380" src="img/data_sim/tiltedplane2.jpg">
</section>

<section>
   <h3>Geometry based spatial methods</h3>
<p>Deterministic: mathematical functions
<p> 
$z = \sin (0.4x) + 0.3 \cos(y) + 80$
<p class="fragment">
<img height="380" src="img/data_sim/waves2_3delev.jpg">
<img height="250" src="img/data_sim/waves_leg.jpg">
<p><small>Smooth, simplified surface</small>
</section>

<section>
   <h3>Stochastic methods</h3>
<ul>
<li>Methods based on random fields, characterized by the distribution function
<li>Uniform random field - linear random number generator
</ul>
<p><img height="130" src="img/data_sim/random_0_20_3D.jpg">
<p><img height="180" src="img/data_sim/random_0_20_histogramred.png">
</section>

<section>
   <h3>Stochastic methods</h3>
<ul>
<li>Independednt random variable $z$,
 is often distributed according to the normal distribution:
$$
f(z | \mu,\sigma^2) = \frac{1}{\sqrt{2\pi} \sigma} e^{-(z-\mu)^2 / 2\sigma^2} 
$$
<p class="fragment">where $\mu$ is the mean, $\sigma$ is the standard deviation,
$\sigma^2$ is the variance, $e$ is exponential function, and $f(z | \mu,\sigma^2)$
is probability density function of the normal distribution 
<p class="fragment">
Monte Carlo methods often require generating values that have normal distribution
<p class="fragment"><small>
See also 
<a href="https://en.wikipedia.org/wiki/Normal_distribution">Normal distribution</a> here
</small>
</section>

<section>
   <h3>Gaussian random field</h3>
Random field with $\mu = 120$m and $\sigma = 2$m 
<p class="fragment"><small>One $\sigma$ (68%) of values in the random field are within 2m range of the mean</small>
<p><img height="180" src="img/data_sim/gauss_surf_m120s2_3dnew.jpg">
<p><img height="180" src="img/data_sim/gauss_surf_hist.png">
</section>

<section>
   <h3>Uniform and Gaussian random fields</h3>
Profile and histograms of a uniform random field $z = [0,20]$ and Gaussian random field with $\mu = 0$m and $\sigma = 20$m        
<p><img height="150" src="img/data_sim/gauss_random_20_profiles.png">
<p><img height="180" src="img/data_sim/random_0_20_histogramred.png">
<img height="180" src="img/data_sim/gauss_surf_m0s20_hist.png">
</section>

<section>
   <h3>Gaussian random field</h3>
Random field with $\mu = 0$m and $\sigma = 0.3$m 
</small>
<p><img height="300" src="img/data_sim/gauss_surf_m0s03_3d.jpg">
<p><img height="120" src="img/data_sim/gauss_surf_m0s20_hist.png">
</section>

<section>
   <h3>Simulation of surface with noise</h3>
<p>Gaussian random field with $\mu = 0$m and $\sigma = 0.3$m added to the elevation surface:
<p><img height="380" src="img/data_sim/elev_lid_noise3d.jpg">
<p><small>How would you test whether the noise on your lidar-based DSM has normal distribution?
e.g., compute distribution of deviations computed by the spline function</small>
</section>

<section>
   <h3>Simulation of random surface with spatial dependence</h3>
<p>Initial Gaussian or uniform random field is smoothed based on a given filter
<p>add equations
</section>

<section>
   <h3>Simulation of random surface with spatial dependence</h3>
<p>comparison of random fields and their distributions
</section>

<section>
   <h3>Application to uncertainty analysis</h3>
<p>assignment
</section>

<section>
   <h3>Fractals</h3>
<p>Scale invariant features with infinite detail at all scales - complete computation of fractal is impossible 
<p>Deterministic and random fractals
<p>Fractals have non-integer dimension
 <p>Learn more about fractals 
    <ul>
    <li><a href="https://www.wired.com/2010/09/fractal-patterns-in-nature/">Fractal patterns in nature</a>
    <li><a href="https://www.wired.com/2012/01/the-fractal-dimension-of-zip-codes/">Fractal dimension of zipcodes</a>
    <li><a href="https://en.wikipedia.org/wiki/List_of_fractals_by_Hausdorff_dimension">Fractals by Hausdorff dimension</a>
    </ul>
</section>

<section>
   <h3>Deterministic fractals</h3>
<p>Self-similar: scaled down and rotated copies of themselves
<p>simple algorithms: particular mappig is repeated in recursive scheme
<p>example from Lubos
<p>link for image from web or generate one yourself
<p> <img height="430" src="img/data_sim/fractal_det.gif">
</section>

<section>
   <h3>Random fractals</h3>
<p>Include random component to simulate natural phenomena
<p>Surfaces with no derivative (infinitely rough ?)
<p>Fractal Brownian motion
<p>algorithms: midpoint displacement method, Fourier filtering method, random cut method
<p> <img height="230" src="../img/geodynamics_lecture/jr_74_17_anim3dlgfix.gif">
</section>

<section>
   <h3>Random fractals</h3>
<p>Surface generated by Fourier filtering method d=2.9
<p> <img height="400" src="img/data_sim/fractal_d290.gif">
</section>

<section>
   <h3>Random fractals</h3>
<p>Surface generated by Fourier filtering method d=2.01
<p> <img height="400" src="img/data_sim/fractal_d201.gif">
</section>

<section>
   <h3>Space filling curves</h3>
Special cases of fractal constructions
used for efficient management of multidimensional data
<a href-"https://en.wikipedia.org/wiki/Space-filling_curve">Space-filling curve on wikipedia</a>
<a href="https://blog.zen.ly/geospatial-indexing-on-hilbert-curves-2379b929addc">Geospatial indexing on Hilbert curves</a>, 
blog post by A. Sinton
</section>

<section>
 <h3>Examples: random points, perturbance</h3>
<p>
</section>

<section>
   <h3>Examples: patch generators</h3>
<p>groundwater pollution over 10 years - data
<p> <img height="330" src="img/geodynamics/wellnew.gif">
</section>

<section>
   <h3>Generating complex distributions with given properties</h3>
<ul>
<li>points with spatial interactions - inputs for ABM
<li>patches with spatial dependence and geometry properties
</ul>
<p> <img height="330" src="img/geodynamics/well456.gif">
</section>

<section>
   <h3>Weather generators</h3>
<ul>
<li>Chesapeake bay monthly nitrogen concentrations - multivariate (space-time) interpolation
<li>From scattered space-time point data to continuous space-time model of plume evolution
</ul>
<p> <img height="250" src="img/geodynamics/chesaplg.jpg">
<img height="330" src="img/geodynamics/chesapsites.jpg">
<img height="330" src="img/geodynamics/chall4d.gif">
</section>

<section>
   <h3>Generating scenarios</h3>
<p>Depends on the research question, available data and tools
<p>Participatory research, planning, decision making
<p>Computational approaches, artificial inteligence, games
<p>Tangible Landscape
</section>

<section>
   <h3>Generating 3D digital objects</h3>
<p>Computational design
<p>Structure from motion - digital mapping of 3D objects using overlapping images
<p><a href="http://ncsu-geoforall-lab.github.io/uav-lidar-analytics-course/assignments/lab_exp_3Dreconstr.html">
Lab experiment from the UAS course</a>
</section>

<!--
<section>
 <h3>Summary</h3>
<ul>
<li>we have defined types of models
</ul>
</section>

<section>
 <h3>Reading, resources</h3>
links
</section>
-->

<div class="parent-page">
    <!-- &#x1f3e0; -->
    <a href="http://ncsu-geoforall-lab.github.io/geospatial-simulations-course/" title="Go to the course page">&#8962;</a>
</div>



